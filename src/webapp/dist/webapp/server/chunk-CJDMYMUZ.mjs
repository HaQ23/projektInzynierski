import './polyfills.server.mjs';
import{a as R,d as E}from"./chunk-ZSWMZNGA.mjs";import{a as c,b as T}from"./chunk-7QWHGEEN.mjs";import{D as z,Db as S,Fc as H,Hc as D,J as f,K as n,Kc as w,M as p,Pa as g,R as v,S as s,Tb as k,ac as I,fc as C,ha as j,hc as b,ic as N,j as l,jc as A,oc as P,qa as u,u as h,ya as y}from"./chunk-LXPPITVW.mjs";var L=(()=>{let t=class t{constructor(i,o){this.authService=i,this.router=o,this.canActivate=(a,M)=>this.authService.isAuthenticated()?(this.router.navigate(["/"]),!1):!0}};t.\u0275fac=function(o){return new(o||t)(p(c),p(D))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var W=[{path:"",loadChildren:()=>import("./chunk-EJS5EJRT.mjs").then(e=>e.MainModule)},{path:"auth",loadChildren:()=>import("./chunk-HO2L3M7Z.mjs").then(e=>e.AuthModule),canActivate:[L]},{path:"**",redirectTo:""}],F=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=s({type:t}),t.\u0275inj=n({imports:[w.forRoot(W),w]});let e=t;return e})();var d=(()=>{let t=class t{constructor(i,o,a,M){this.viewContainerRef=i,this.modalService=o,this.authService=a,this.platformId=M,this.modalService.viewContainerRef=this.viewContainerRef}ngOnInit(){I(this.platformId)&&(this.authService.isAuthenticated()||this.authService.autologin().subscribe({error:i=>{console.error("Autologin failed:",i)}}))}};t.\u0275fac=function(o){return new(o||t)(u(y),u(T),u(c),u(j))},t.\u0275cmp=v({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,a){o&1&&g(0,"router-outlet")},dependencies:[H]});let e=t;return e})();var $=(()=>{let t=class t{constructor(i){this.authService=i}intercept(i,o){return i=i.clone({withCredentials:!0}),o.handle(i).pipe(h(a=>a.status===401&&this.authService.isAuthenticated()?a.error?.message==="Refresh token is expired!"?(this.authService.logout().subscribe(),l(()=>new Error("Unauthorized: Refresh token expired."))):this.authService.refreshToken().pipe(z(()=>o.handle(i)),h(()=>(this.authService.logout().subscribe(),l(()=>new Error("Unauthorized: Token refresh failed."))))):l(()=>a)))}};t.\u0275fac=function(o){return new(o||t)(p(c))},t.\u0275prov=f({token:t,factory:t.\u0275fac});let e=t;return e})();function K(e){let t=e,r=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&i===0?1:i===0&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?3:i===0&&r!==1&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||i===0&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||i===0&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?4:5}var O=["pl",[["a","p"],["AM","PM"],void 0],void 0,[["n","p","w","\u015B","c","p","s"],["niedz.","pon.","wt.","\u015Br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015Bro","czw","pi\u0105","sob"]],[["N","P","W","\u015A","C","P","S"],["niedz.","pon.","wt.","\u015Br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015Bro","czw","pi\u0105","sob"]],[["s","l","m","k","m","c","l","s","w","p","l","g"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015Bnia","pa\u017Adziernika","listopada","grudnia"]],[["S","L","M","K","M","C","L","S","W","P","L","G"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017Adziernik","listopad","grudzie\u0144"]],[["p.n.e.","n.e."],void 0,["przed nasz\u0105 er\u0105","naszej ery"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} {0}",void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"PLN","z\u0142","z\u0142oty polski",{AUD:[void 0,"$"],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],PLN:["z\u0142"],RON:[void 0,"lej"],TWD:[void 0,"NT$"],USD:[void 0,"$"],VND:[void 0,"\u20AB"]},"ltr",K];k(O,"pl");var B=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=s({type:t,bootstrap:[d]}),t.\u0275inj=n({providers:[{provide:S,useValue:"pl"},b(N()),{provide:C,useClass:$,multi:!0}],imports:[P,F,A,R]});let e=t;return e})();var V=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=s({type:t,bootstrap:[d]}),t.\u0275inj=n({imports:[B,E]});let e=t;return e})();export{V as a};
