<main class="register">
  <div class="register__img-wrapper">
    <img
      src="../../../../../assets/images/register-header.webp"
      alt=""
      class="register__img"
    />
  </div>
  <section class="register__container">
    <div class="register__form-container">
      <div class="register__image-wrapper">
        <img
          src="../../../../../assets/images/baber-image.webp"
          alt=""
          class="register__image"
        />
      </div>
      <h2 class="register__title">
        Zarejestruj się w <span class="other-color">QuickCut</span>
      </h2>
      <p class="register__text register__description">
        Ciesz się najlepszymi usługami barberskimi, zarejestruj się już dziś,
        aby umówić wizytę online!
      </p>
      <form
        class="register__form-content"
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
      >
        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Nazwa użytkownika</mat-label>
            <input
              matInput
              formControlName="username"
              type="text"
              placeholder="Wprowadź nazwę użytkownika"
              class="register__form-input"
              autocomplete="username"
            />
            <mat-error
              *ngIf="registerForm.get('username')?.hasError('required')"
            >
              Wymagana jest nazwa użytkownika
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Email</mat-label>
            <input
              matInput
              formControlName="email"
              type="email"
              placeholder="Example@email.com"
              class="register__form-input"
              autocomplete="email"
            />
            <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
              Wymagany jest adres e-mail
            </mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
              Wprowadź prawidłowy adres e-mail
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Hasło</mat-label>
            <input
              matInput
              [type]="hide ? 'password' : 'text'"
              formControlName="password"
              placeholder="Wprowadź hasło"
              class="register__form-input"
              autocomplete="new-password"
            />
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="togglePasswordVisibility($event)"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide"
            >
              <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
            </button>
            <mat-error
              *ngIf="registerForm.get('password')?.hasError('required')"
            >
              Wymagane jest hasło
            </mat-error>
            <mat-error
              *ngIf="registerForm.get('password')?.hasError('minlength')"
            >
              Hasło musi składać się z co najmniej 8 znaków
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Potwierdź hasło</mat-label>
            <input
              matInput
              [type]="hideConfirm ? 'password' : 'text'"
              formControlName="confirmPassword"
              placeholder="Potwierdź hasło"
              class="register__form-input"
              autocomplete="new-password"
            />
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="toggleConfirmPasswordVisibility($event)"
              [attr.aria-label]="'Hide confirm password'"
              [attr.aria-pressed]="hideConfirm"
            >
              <mat-icon>{{
                hideConfirm ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-error
              *ngIf="registerForm.get('confirmPassword')?.hasError('required')"
            >
              Wymagane jest potwierdzenie hasła
            </mat-error>
            <mat-error *ngIf="registerForm.hasError('mismatch')">
              Hasła muszą być identyczne
            </mat-error>
          </mat-form-field>
        </div>
        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Imię</mat-label>
            <input
              matInput
              formControlName="firstname"
              type="text"
              placeholder="Wprowadź imię"
              class="register__form-input"
            />
            <mat-error
              *ngIf="registerForm.get('firstname')?.hasError('required')"
            >
              Wymagane jest imię
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Nazwisko</mat-label>
            <input
              matInput
              formControlName="lastname"
              type="text"
              placeholder="Wprowadź nazwisko"
              class="register__form-input"
            />
            <mat-error
              *ngIf="registerForm.get('lastname')?.hasError('required')"
            >
              Wymagane jest nazwisko
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Numer telefonu</mat-label>
            <input
              matInput
              formControlName="phoneNumber"
              type="tel"
              placeholder="Wprowadź numer telefonu"
              class="register__form-input"
              autocomplete="tel"
            />
            <mat-error
              *ngIf="registerForm.get('phoneNumber')?.hasError('required')"
            >
              Wymagany jest numer telefonu
            </mat-error>
          </mat-form-field>
        </div>

        <div class="register__form-group">
          <mat-form-field appearance="fill" class="register__form-field">
            <mat-label>Adres</mat-label>
            <input
              matInput
              formControlName="address"
              type="text"
              placeholder="Wprowadź adres"
              class="register__form-input"
              autocomplete="street-address"
            />
            <mat-error
              *ngIf="registerForm.get('address')?.hasError('required')"
            >
              Wymagany jest adres
            </mat-error>
          </mat-form-field>
        </div>

        <button class="register__submit-btn" mat-raised-button color="primary">
          Zarejestruj się
        </button>
        <p class="register__text">
          Masz już konto?
          <a routerLink="/auth/login" class="register__link">Zaloguj się.</a>
        </p>
      </form>
    </div>
  </section>
</main>
